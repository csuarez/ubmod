===============================================================================
UBMoD - Metrics on Demand - SGE Notes
===============================================================================

SGE does not report the nodes used by a given job in the accounting log.
For accurate node counts the accounting_summary must be set to FALSE in
sge_pe.  If accounting_summary is set to TRUE it will appear that all
jobs were run on a single node.

UBMoD supports two different ways of specifying the number of CPUs used
by a job.  By default, the number of "slots" reported by SGE will be
used as the number of CPUs.  If you configure "num_procs" as a
consumable resource, the greater of the two values will be used as the
number of CPUs.

If your logs are not rotated (you re-shred the same log file every time
you update the UBMoD database), when UBMoD inserts the duplicate data,
the unique key constraint on the sge_event table will prevent the
insertion of this data, but will instead update the primary key.  This
will prevent duplicate data from being entered into the database, even
though the entire log file will still be parsed.

If you use the logchecker.sh script included with SGE, an example of how
to customize the script to use UBMoD is included in logchecker.sh.patch.

The ubmod-shredder -d/--dir option was designed to work with the
accounting log naming convention used by PBS/TORQUE.  If you are not
using the same convention (files are named YYYYMMDD corresponding to the
current date), do not use this option.

